{% extends 'base.html' %}

{% block title %}
  Dashboard
{% endblock  %}

{% block content %}
  {% load static %} {% load general_tags %}
  
  {% if free_trial_ended != None and free_trial_ended == True %}
    {% include 'components/end_of_trial_banner.html' with no_dots=True extra_classes='w-85 mx-auto' %}
  {% elif not allow_dashboard %}
    {% include 'empty_dashboard.html' %} 
  {% else %}
    <div id="back_opacity"></div>
    {% include 'dashboard/components/filter_menu.html' %}
    <div id="root" class="d-flex py-3">
        <div id="menu">
            {% include 'dashboard/components/single_menu.html' with main_class='byrobot active' idtab='robots_tab' img_src='robot' %}
            {% include 'dashboard/components/single_menu.html' with main_class='byrpa' idtab='rpa_tab' img_src='rpa' %}
            {% include 'dashboard/components/single_menu.html' with main_class='byhoursreturned' idtab='hours_returned_tab' img_src='clock' %}
            {% if view_type == 'editor' %}
              {% include 'dashboard/components/single_menu.html' with main_class='roi' idtab='roi_tab' img_src='roi' %}
            {% endif %}
            <div class="bottom_menu pb-3">
              {% include 'dashboard/components/single_menu.html' with main_class='filter' img_src='filter' %}
              {% include 'dashboard/components/single_menu.html' with main_class='calendar_menu' img_src='calendar_menu' idtab='calendar_tab' %}
              {% if view_type == 'editor' %}
                {% include 'dashboard/components/single_menu.html' with main_class='invite modal__open-button' img_src='invite' is_modal=True heading='invite_to_rpa_dashboard'|translate:language %}
                {% include 'dashboard/components/single_menu.html' with main_class='config' idtab='manage_settings_tab' img_src='config' %}
              {% endif %}
            </div>
        </div>
        <div id="space-header" class=""></div>

        <div id="content" class="backcolorD8DAD9 w-100 pt-1 pb-2 px-3 o-hidden">
            {% include 'dashboard/robots_tab.html' %}
            {% include 'dashboard/rpa_tab.html' %}
            {% include 'dashboard/hours_returned_tab.html' %}
            {% if view_type == 'editor' %}
              {% include 'dashboard/roi_tab.html' %}
              {% include 'dashboard/calendar_tab.html' %}
              {% include 'dashboard/invite_modal.html' %}
              {% include 'dashboard/manage_settings_tab.html' %}
            {% endif %}

            {% include 'dashboard/components/downloading_plot_modal.html' %}
        </div>
    </div>

  {% endif %}

{% endblock  %}

{% block modal %}
  {% include 'dashboard/components/modals/_dashboard_modal.html' %}
{% endblock  %}

{% block scripts %}
    <script src="{% static 'dashboard/js/dashboardSession.js' %}"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js" integrity="sha512-tVYBzEItJit9HXaWTPo8vveXlkK62LbA+wez9IgzjTmFNLMBO1BEYladBw2wnM3YURZSMUyhayPCoLtjGh84NQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="{% static 'dashboard/js/fake_select.js' %}"></script>
    <script src="{% static 'dashboard/js/topic_selection.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.2.6/jquery.inputmask.bundle.min.js"></script>
    <script src="{% static 'dashboard/js/dashboard_utils.js' %}"></script>
    <script src="{% static 'dashboard/js/dashboard.js' %}"></script>
    <script src="{% static 'dashboard/js/dashboardFilter.js' %}"></script>    <script src="{% static 'dashboard/js/dateInputCalendar.js' %}"></script>
    <script src="{% static 'js/multistep.js' %}"></script>
    <script src="{% static 'dashboard/js/manage_areas_tab.js' %}"></script>
    <script src="{% static 'dashboard/js/manageProcesses.js' %}"></script>
    <script src="{% static 'dashboard/js/manage_settings_tab.js' %}"></script>
    {% comment %} calendar necessary js {% endcomment %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/air-datepicker/2.2.3/js/datepicker.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.js"></script>
    {% comment %} calendar necessary js {% endcomment %}
    <script src="{% static 'dashboard/js/dashboardModal.js' %}"></script>
    {{ number_of_areas|json_script:"number_of_areas" }}
    {% endblock %}
